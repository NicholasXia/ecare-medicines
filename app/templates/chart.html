<style media="screen">
  .message .left{
    clear:both;
  }
  .message .right{
   clear:both;
  }
  /*.message .timeDis{
    font-size:12px;
    text-align: center;
  }*/
</style>
<ion-view cache-view="false" view-title="聊天室" id="mock">
    <!-- <ion-pane
    "class="messaging-view"> -->
    <ion-header-bar class="bar-balanced">
        <a class="button icon ion-chevron-left" href="javascript:history.go(-1)"></a>
        <h1 class="title">聊天室</h1>
    </ion-header-bar>

    <ion-content class="content-stable"
                 on-swipe-left="hideTime = false"
                 on-swipe-right="hideTime = true">
      <ion-refresher
        pulling-text="读取聊天记录"
         on-refresh="doRefreshChat()">
       </ion-refresher>

        <div ng-repeat="message in messages"
             ng-class="{other: message.userId == myId}"
             class="messages">

            <div class="message" style="text-align:center">
                <div style="text-align:center;margin-bottom:10px;" ng-hide="message.isSameDay" ><label style="background-color:#ccc;display:inline-block;padding:2px 5px;font-size:12px;border-radius:2px;color:white">{{message.time}}</label></div>
                <span>{{ message.text }}</span>
            </div>
            <!-- <div class="time" ng-class="{'slide-right': hideTime, '': !hideTime}">{{message.time}}</div> -->
        </div>

    </ion-content>

    <ion-footer-bar style="z-index=9999" keyboard-attach class="bar-stable item-input-inset">
        <label class="item-input-wrapper">
            <input type="text" placeholder="请输入信息" on-return="sendMessage(); closeKeyboard()"
                   ng-model="data.message" on-focus="inputUp()" on-blur="inputDown()"/>
        </label>
        <button class="button button-clear" ng-click="sendMessage()">
            发送
        </button>
    </ion-footer-bar>
    </ion-pane>

</ion-view>
<!--</script>-->
<!--</body>-->
<!--</html>-->
